!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global="undefined"!=typeof globalThis?globalThis:global||self).crliutils=factory()}(this,function(){"use strict";function setCookie(name,value,expires,path,domain,secure){var cookieText="";cookieText+=encodeURIComponent(name)+"="+encodeURIComponent(value),expires instanceof Date&&(cookieText+="; expires="+expires.toUTCString()),path&&(cookieText+="; path="+path),domain&&(cookieText+="; domain="+domain),secure&&(cookieText+="; secure"),document.cookie=cookieText}var __assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},url={getQueryParse:function(search){if(-1===(search=(search=void 0===search?window.location.href:search)||window.location.href).indexOf("?"))return{};search="?"===search[0]?search.substr(1):search.substring(search.lastIndexOf("?")+1);if(""===search)return{};for(var searchArr=search.split("&"),query={},i=0;i<searchArr.length;i++){var pair=searchArr[i].split("=");query[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return query},getQueryStringify:function(obj){if(!obj)return"";var key,pairs=[];for(key in obj){var value=obj[key];if(value instanceof Array)for(var i=0;i<value.length;++i)pairs.push(key+"["+i+"]="+value[i]);else pairs.push(key+"="+obj[key])}return pairs.join("&")},getUrlQuery:function(r,search){if(void 0===search&&(search=window.location.search),!r)return null;r=search.substr(1).match(new RegExp("(^|&)"+r+"=([^&]*)(&|$)","i"));return null!=r?unescape(r[2]):null}};function isObject(obj){return("object"==typeof obj||"function"==typeof obj)&&null!==obj}var deepCopy=function(obj){if(isObject(obj)){if([Date,Set,Map,WeakMap,WeakSet,RegExp].includes(obj.constructor))return new obj.constructor(obj);if([Boolean,String,Number].includes(obj.constructor))return new obj.constructor(obj.valueOf());for(var cloneobj=Object.create(Object.getPrototypeOf(obj),Object.getOwnPropertyDescriptors(obj)),_i=0,_a=Reflect.ownKeys(obj);_i<_a.length;_i++){var prop=_a[_i];cloneobj[prop]=isObject(obj[prop])&&"function"!=typeof obj[prop]?deepCopy(obj[prop]):obj[prop]}return cloneobj}return obj},object={deepCopy:deepCopy},reqFullScreen=function(){return document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.webkitRequestFullScreen?document.documentElement.webkitRequestFullScreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.msRequestFullscreen()};function getScrollTop(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function setScrollTop(value){window.scrollTo(0,value)}function isLeapYear(year){return 0==year%4&&year%100!=0||year%400==0}var fullscreenEnable=function(){return!!(document.isFullScreen||document.mozIsFullScreen||document.webkitIsFullScreen)},requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)},scrollTo=function(to,duration){var diff,step;duration<=0?setScrollTop(to):0!=(diff=to-getScrollTop())&&(step=diff/duration*10,requestAnimFrame(function(){Math.abs(step)>Math.abs(diff)?setScrollTop(getScrollTop()+diff):(setScrollTop(getScrollTop()+step),0<diff&&getScrollTop()>=to||diff<0&&getScrollTop()<=to||scrollTo(to,duration-16))}))},bom={fullscreenToggel:function(){fullscreenEnable()?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen():reqFullScreen()},listenfullscreen:function(callback){function listen(){callback()}callback="function"==typeof callback?callback:function(){},document.addEventListener("fullscreenchange",function(){listen()}),document.addEventListener("mozfullscreenchange",function(){listen()}),document.addEventListener("webkitfullscreenchange",function(){listen()}),document.addEventListener("msfullscreenchange",function(){listen()})},getScrollTop:getScrollTop,setScrollTop:setScrollTop,scrollTo:scrollTo,windowResize:function(downCb,upCb){var clientHeight=window.innerHeight;downCb="function"==typeof downCb?downCb:function(){},upCb="function"==typeof upCb?upCb:function(){},window.addEventListener("resize",function(){var height=window.innerHeight;height===clientHeight&&downCb(),height<clientHeight&&upCb()})}},functions={getType:function(obj){var toString=Object.prototype.toString;return obj instanceof Element?"element":{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object","[object Symbol]":"symbol","[object Set]":"set","[object WeakSet]":"weakSet","[object Map]":"map","[object WeakMap]":"weakmap"}[toString.call(obj)]},insertCss:function(url){var link=document.createElement("link");link.type="text/css",link.rel="stylesheet",link.href=url,document.getElementsByTagName("head")[0].appendChild(link)},downFile:function(downloadElement,name){var url=new Date,year=url.getFullYear()+"",day=("0"+url.getDate()).slice(-2),month=("0"+(url.getMonth()+1)).slice(-2),url=new Blob(downloadElement,{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),downloadElement=document.createElement("a"),url=window.URL.createObjectURL(url);downloadElement.href=url,downloadElement.download=name+"_"+year+month+day+".csv",document.body.appendChild(downloadElement),downloadElement.click(),window.URL.revokeObjectURL(url),document.body.removeChild(downloadElement)},getOs:function(){var os={android:!1,iphone:!1,ios:!1,ipad:!1,wechat:!1},wechat=navigator.userAgent,android=wechat.match(/(Android);?[\s/]+([\d.]+)?/),iphone=wechat.match(/(iPhone\sOS)\s([\d_]+)/),ipad=wechat.match(/(iPad).*OS\s([\d_]+)/),wechat=wechat.match(/(MicroMessenger)\/([\d.]+)/i);return android&&(os.android=!0),iphone&&(os.ios=os.iphone=!0),wechat&&(os.wechat=!0),ipad&&(os.ios=os.ipad=!0),os},getRandomNum:function(nmin,nmax){nmin=Math.ceil(nmin),nmax=Math.floor(nmax);return Math.floor(Math.random()*(nmax-nmin+1))+nmin},getSex:function(idCardNo){if(!idCardNo)return null;var sex=null,birth=null,myDate=new Date,month=myDate.getMonth()+1,day=myDate.getDate(),age=0;return 18===idCardNo.length&&(age=myDate.getFullYear()-Number(idCardNo.substring(6,10))-1,sex=idCardNo.substring(16,17),birth=idCardNo.substring(6,10)+"-"+idCardNo.substring(10,12)+"-"+idCardNo.substring(12,14),(Number(idCardNo.substring(10,12))<month||Number(idCardNo.substring(10,12))==month&&Number(idCardNo.substring(12,14))<=day)&&age++),15===idCardNo.length&&(age=myDate.getFullYear()-Number(idCardNo.substring(6,8))-1901,sex=idCardNo.substring(13,14),birth="19"+idCardNo.substring(6,8)+"-"+idCardNo.substring(8,10)+"-"+idCardNo.substring(10,12),(Number(idCardNo.substring(8,10))<month||Number(idCardNo.substring(8,10))==month&&Number(idCardNo.substring(10,12))<=day)&&age++),{sex:sex=Number(sex)%2==0?"女":"男",birthday:birth,age:age}}},regexp={isEmail:function(str){return/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(str)},isIdCard:function(code){var row={pass:!0,msg:"验证成功"};if(code&&/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|[xX])$/.test(code))if({11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "}[code.substr(0,2)]){for(var codes=code.split(""),factor=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],sum=0,i=0;i<17;i++)sum+=Number(codes[i])*factor[i];[1,0,"X",9,8,7,6,5,4,3,2][sum%11]!=codes[17].toUpperCase()&&(row={pass:!1,msg:"身份信息校验错误"})}else row={pass:!1,msg:"身份证号地址编码错误"};else row={pass:!1,msg:"身份证号格式错误"};return row},isNotPass:function(val){if(0==val)return!0;if(0===val)return!0;if(val instanceof Array){if(0==val.length)return!0}else{if(!(val instanceof Object))return"null"==val||null==val||"undefined"==val||null==val||""==val;if("{}"===JSON.stringify(val))return!0}return!1},isPhoneNum:function(str){return/^(\+?0?86\-?)?1[3456789]\d{9}$/.test(String(str))}},storage={setStore:function(name,content){name&&("string"!=typeof content&&(content=JSON.stringify(content)),window.localStorage.setItem(name,content))},getStore:function(obj){if(obj){obj=window.localStorage.getItem(obj);if(null===obj||"undefined"===obj)return obj;try{return JSON.parse(obj)}catch(_a){return obj}}},removeStore:function(name){name&&window.localStorage.removeItem(name)},clearStore:function(){window.localStorage.clear()}};function hasClass(obj,cls){return!(!cls||!obj)&&new RegExp("(\\s|^)"+cls+"(\\s|$)").test(obj.className)}var date={getBeforeArrDay:function(day,date){void 0===day&&(day=7);for(var temp=[],i=0;i<day;i++){var strDate=new Date((new Date).setDate(new Date(date||new Date).getDate()+i-day)),year=strDate.getFullYear(),month=("0"+(strDate.getMonth()+1)).slice(-2),strDate=("0"+strDate.getDate()).slice(-2);temp.push(year+"-"+month+"-"+strDate)}return temp},getMonthArrDay:function(beforeYear,beforeYearByMonth,strDate){void 0===beforeYear&&(beforeYear=1),void 0===beforeYearByMonth&&(beforeYearByMonth="month");var temp=[],beforeMonth=new Date(strDate||new Date),year=beforeMonth.getFullYear(),month=("0"+(beforeMonth.getMonth()+1)).slice(-2),strDate=("0"+beforeMonth.getDate()).slice(-2);return"month"===beforeYearByMonth?0<Number(month)-beforeYear?temp.push(year+"-"+("0"+(Number(month)-beforeYear)).slice(-2)+"-"+strDate):(beforeYearByMonth=year-(beforeMonth=function getyearNum(num,n){return num/12<n?n:getyearNum(num,++n)}(Math.abs(Number(month)-beforeYear),0)),2==(beforeMonth=Number(month)+12*beforeMonth-beforeYear)&&29==Number(strDate)?isLeapYear(beforeYearByMonth)?temp.push(beforeYearByMonth+"-02-29"):temp.push(beforeYearByMonth+"-02-28"):temp.push(beforeYearByMonth+"-"+("0"+beforeMonth).slice(-2)+"-"+strDate)):(beforeYear=year-beforeYear,2==Number(month)&&29==Number(strDate)?isLeapYear(beforeYear)?temp.push(beforeYear+"-02-29"):temp.push(beforeYear+"-02-28"):temp.push(beforeYear+"-"+month+"-"+strDate)),temp.push(year+"-"+month+"-"+strDate),temp},getMonthDays:function(year){var month=new Date(year),year=month.getFullYear(),month=month.getMonth()+1;return new Date(year,month,0).getDate()},getTwoArrDay:function(day){for(var temp=[],dayArr=[1-(day=void 0===day?7:day),0],i=0;i<dayArr.length;i++){var strDate=new Date((new Date).setDate((new Date).getDate()+dayArr[i])),year=strDate.getFullYear(),month=("0"+(strDate.getMonth()+1)).slice(-2),strDate=("0"+strDate.getDate()).slice(-2);temp.push(year+"-"+month+"-"+strDate)}return temp},isLeapYeay:isLeapYear},time={formatPassTime:function(month,min){var year=new Date(min||new Date).getTime()-new Date(month).getTime(),day=parseInt(year/864e5+""),hour=parseInt(year/36e5+""),min=parseInt(year/6e4+""),month=parseInt(day/30+""),year=parseInt(month/12+"");return year?year+"年前":month?month+"个月前":day?day+"天前":hour?hour+"小时前":min?min+"分钟前":"刚刚"},formatTimeCountdown:function(m,h){var s=new Date(h||new Date),t=new Date(m).getTime()-s.getTime(),d=0,h=0,m=0,s=0;return 0<=t&&(d=Math.floor(t/1e3/3600/24),h=Math.floor(t/1e3/60/60%24),m=Math.floor(t/1e3/60%60),s=Math.floor(t/1e3%60)),d+"天 "+h+"小时 "+m+"分钟 "+s+"秒"},formatTime:function(fmt,currentDate){void 0===fmt&&(fmt="yyyy-MM-dd hh:mm:ss");var k,currentDate=currentDate=void 0===currentDate?new Date:currentDate,o={"M+":currentDate.getMonth()+1,"d+":currentDate.getDate(),"h+":currentDate.getHours(),"m+":currentDate.getMinutes(),"s+":currentDate.getSeconds(),"q+":Math.floor((currentDate.getMonth()+3)/3),S:currentDate.getMilliseconds()};for(k in/(y+)/.test(fmt)&&(fmt=fmt.replace(RegExp.$1,(currentDate.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+k+")").test(fmt)&&(fmt=fmt.replace(RegExp.$1,1==RegExp.$1.length?o[k]:("00"+o[k]).substr((""+o[k]).length)));return fmt}},array={getArrChunk:function(array,size){void 0===size&&(size=1);var pages=[];return array.forEach(function(item,page){page=Math.floor(page/size);pages[page]||(pages[page]=[]),pages[page].push(item)}),pages},isArrEqual:function(arr1,arr2){if(arr1===arr2)return!0;if(arr1.length!=arr2.length)return!1;for(var i=0;i<arr1.length;++i)if(arr1[i]!==arr2[i])return!1;return!0}},dom={addClass:function(obj,cls){hasClass(obj,cls)||(obj.className+=" "+cls)},getStyle:function(element,attr,NumberMode){var target;return void 0===NumberMode&&(NumberMode="int"),"scrollTop"===attr?target=element==document.documentElement?document.documentElement.scrollTop||document.body.scrollTop:element.scrollTop:element.currentStyle?target=element.currentStyle[attr]:document.defaultView&&(target=document.defaultView.getComputedStyle(element,null)[attr]),parseFloat(target)||parseInt(target)?("float"==NumberMode?parseFloat:parseInt)(target):target},hasClass:hasClass,removeClass:function(obj,reg){hasClass(obj,reg)&&(reg=new RegExp("(\\s|^)"+reg+"(\\s|$)"),obj.className=obj.className.replace(reg," "))}};return __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({},{setCookie:setCookie,getCookie:function(cookieEnd){var cookieName=encodeURIComponent(cookieEnd)+"=",cookieStart=document.cookie.indexOf(cookieName),cookieValue="";return-1<cookieStart&&(-1===(cookieEnd=document.cookie.indexOf(";",cookieStart))&&(cookieEnd=document.cookie.length),cookieValue=decodeURIComponent(document.cookie.substring(cookieStart+cookieName.length,cookieEnd))),cookieValue},removeCookie:function(name,domain,path,secure){setCookie(name,"",new Date(0),domain,path,secure)}}),url),object),bom),functions),regexp),storage),date),time),array),dom)});
